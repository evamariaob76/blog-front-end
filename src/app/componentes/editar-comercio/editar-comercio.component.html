<app-navbar></app-navbar>
<div class="row formulario bg-light" *ngIf="!visible">
    <div class="col-lg-12">
        <div class="comment-form-wrap pt-5 ">


            <h2 class="center-block">Editar el comercio:

                <p id="usuario">{{comercio.nombre}}</p>

            </h2>
            <form #comercioForm="ngForm" class="p-5 background">



                <div class="form-group">
                    <label for="nombre">Nombre comercio</label>
                    <input type="text" class="form-control" #nombre="ngModel" id="nombre" [(ngModel)]="comercio.nombre" name="nombre" required minlength="3vb" placeholder="nombre comercio">
                    <div class="alert alert-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
                        <div *ngIf="nombre.errors.required ">
                            Nombre de comercio es requerido
                        </div>

                        <div *ngIf="nombre.errors.minlength ">
                            Nombre de comercio debe tener al menos 3 caracteres
                        </div>
                    </div>



                </div>
                <div class="form-group">
                    <label for="actividad">Actividad</label>
                    <input type="text" class="form-control" id="actividad" #actividad="ngModel" [(ngModel)]="comercio.actividad" required minlength="5" name="actividad" placeholder="actividad">

                    <div class="alert alert-danger" *ngIf="actividad.invalid && (actividad.dirty || actividad.touched)">
                        <div *ngIf="actividad.errors.required ">
                            Actividad de comercio es requerido
                        </div>

                        <div *ngIf="actividad.errors.minlength ">
                            Actividad de comercio debe tener al menos 3 caracteres
                        </div>
                    </div>


                </div>
                <div class="form-group">
                    <label for="aparicion">Fecha de inicio de actividad</label>
                    <input type="text" class="form-control" id="aparicion" [(ngModel)]="comercio.aparicion" name="aparicion" placeholder="fecha de inicio de actividad">



                </div>
                <div class="form-group">
                    <label for="direccion">Dirección</label>
                    <input type="text" class="form-control" id="direccion" #direccion="ngModel" [(ngModel)]="comercio.direccion" name="direccion" placeholder="dirección" required minlength="5">

                    <div class="alert alert-danger" *ngIf="direccion.invalid && (direccion.dirty || direccion.touched)">
                        <div *ngIf="direccion.errors.required ">
                            Direccion de comercio es requerido
                        </div>

                        <div *ngIf="direccion.errors.minlength ">
                            Direccion de comercio debe tener al menos 5 caracteres
                        </div>
                    </div>

                </div>
                <div class="form-group">
                    <label for="cp">cp</label>
                    <input type="text" id="cp" #cp="ngModel" [(ngModel)]="comercio.cp" name="cp" class="form-control" placeholder="cp ciudad" required minlength="5">
                    <div class="alert alert-danger" *ngIf="cp.invalid && (cp.dirty || cp.touched)">
                        <div *ngIf="cp.errors.required ">
                            CP de comercio es requerido
                        </div>

                        <div *ngIf="cp.errors.minlength ">
                            CP de comercio debe tener al menos 5 caracteres
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="facebook">Facebook </label>
                    <input type="text" class="form-control" id="facebook" #facebook="ngModel" [(ngModel)]="comercio.facebook" name="facebook" required minlength="15" placeholder="facebook">
                    <div class="alert alert-danger" *ngIf="facebook.invalid && (facebook.dirty || facebook.touched)">
                        <div *ngIf="facebook.errors.required ">
                            Facebook de comercio es requerido
                        </div>

                        <div *ngIf="facebook.errors.minlength ">
                            Facebook de comercio debe tener al menos 10 caracteres
                        </div>
                    </div>



                </div>
                <div class="form-group">
                    <label for="latitud">Coordenadas : Latitud </label>
                    <input type="text" class="form-control" id="latitud" #latitud="ngModel" [(ngModel)]="comercio.lat" name="latitud" required minlength="10" placeholder="latitud">
                    <div class="alert alert-danger" *ngIf="latitud.invalid && (latitud.dirty || latitud.touched)">
                        <div *ngIf="latitud.errors.required ">
                            Latitud de comercio es requerido
                        </div>

                        <div *ngIf="latitud.errors.minlength ">
                            Latitud de comercio debe tener al menos 10 caracteres
                        </div>
                    </div>


                </div>
                <div class="form-group">
                    <label for="longitud">Coordenadas : Longitud </label>
                    <input type="text" class="form-control" id="longitud" #longitud="ngModel" [(ngModel)]="comercio.lng" name="longitud" required minlength="10" placeholder="longitud">
                    <div class="alert alert-danger" *ngIf="longitud.invalid && (latitud.dirty || longitud.touched)">
                        <div *ngIf="longitud.errors.required ">
                            Longitud de comercio es requerido
                        </div>

                        <div *ngIf="longitud.errors.minlength ">
                            Longitud de comercio debe tener al menos 10 caracteres
                        </div>
                    </div>


                </div>
                <div class="form-group">
                    <label for="telefono">Teléfono </label>
                    <input type="text" class="form-control" #telefono="ngModel" id="telefono" [(ngModel)]="comercio.telefono" #telefono="ngModel" name="telefono" required minlength="9" placeholder="teléfono">

                    <div class="alert alert-danger" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
                        <div *ngIf="telefono.errors.required ">
                            Teléfono de comercio es requerido
                        </div>

                        <div *ngIf="telefono.errors.minlength ">
                            Teléfono de comercio debe tener al menos 9 caracteres
                        </div>
                    </div>


                </div>update

                <div class="form-group">
                    <label for="resumen">Descripción corta</label>
                    <textarea id="resumen" [(ngModel)]="comercio.resumen" #resumen="ngModel" name="resumen" cols="30" rows="10" class="form-control" required minlength="20" placeholder="descripción corta"></textarea>
                    <div class="alert alert-danger" *ngIf="resumen.invalid && (resumen.dirty || resumen.touched)">
                        <div *ngIf="resumen.errors.required ">
                            Descripción de comercio es requerido
                        </div>

                        <div *ngIf="resumen.errors.minlength ">
                            Descripción de comercio debe tener al menos 20 caracteres
                        </div>
                    </div>

                </div>

                <div class="form-group">
                    <label for="parrafoOne">Contenido Primer Párrafo</label>
                    <textarea id="parrafoOne" [(ngModel)]="comercio.parrafoOne" #parrafoOne="ngModel" name="parrafoOne" cols="30" rows="10" class="form-control" placeholder="Contenido primer párrafo" required minlength="50"></textarea>
                </div>
                <div class="alert alert-danger" *ngIf="parrafoOne.invalid && (parrafoOne.dirty || parrafoOne.touched)">
                    <div *ngIf="parrafoOne.errors.required ">
                        El contenido del primer párrafo de comercio es requerido
                    </div>

                    <div *ngIf="parrafoOne.errors.minlength ">
                        El contenido del primer párrafo de comercio debe tener al menos 50 caracteres
                    </div>
                </div>
                <div class="form-group">
                    <label for="parrafoTwo">Contenido Segundo Párrafo</label>
                    <textarea id="parrafoTwo" [(ngModel)]="comercio.parrafoTwo" #parrafoTwo="ngModel" name="parrafoTwo" cols="30" rows="10" class="form-control" placeholder="Contenido segundo párrafo" required minlength="50"></textarea>
                </div>
                <div class="alert alert-danger" *ngIf="parrafoTwo.invalid && (parrafoTwo.dirty || parrafoTwo.touched)">
                    <div *ngIf="parrafoTwo.errors.required ">
                        El contenido del segundo párrafo de comercio es requerido
                    </div>

                    <div *ngIf="parrafoTwo.errors.minlength ">
                        El contenido del segundo párrafo de comercio debe tener al menos 50 caracteres
                    </div>
                </div>


                <button [disabled]="!comercioForm.valid" [ngClass]="{'boton': comercioForm.valid}" class="btn btn-rounded botonDisabled" type="button" role="button" (click)='update()'>Continuar</button>
                <ng-template #mostrar>
                </ng-template>

            </form>
        </div>
    </div>
</div>
<div class="row fotos bg-light   " *ngIf="visible">

    <div class="col-lg-12 ">
        <div class="comment-form-wrap pt-5 comercio">
            <form class="p-5 bg-light" #fotosForm="ngForm">
                <h4>
                    Seleccione las fotos si quiere cambiar alguna en el comercio :
                    <p id="comercio">{{comercio.nombre}}</p>
                </h4>
                <p> * las fotos se actualizan en el comercio automáticamente al seleccionarlas </p>
                <p *ngIf=" updateFoto==false"> * pulse cancelar si no desea cambiar las fotos </p>

                <div class="container ">
                    <div class="firma-card row lista ">
                        <div class="col-lg-1 col-sm-1 col-1 my-auto"></div>

                        <div class="col-lg-10 col-sm-10 col-10 img-padding-no firma-resim">
                            <p>Imagen 1</p>
                            <img class="card-img-top img-thumbnail" src="{{url_backend}}/api/descargas/img/{{comercio.img}} " [alt]="comercio.nombre">
                            <div class="row  vertical-align botonImg">
                                <div class="col-lg-3 col-sm-3 col-3 my-auto"></div>
                                <div class=" col-lg-6 col-sm-6 col-6 my-auto">
                                    <div class="form-group">
                                        <label class="estadoTrue" for="img">img 1 </label>
                                        <input class="seleccionar" (change)="seleccionarUnaFoto($event,1) " type="file" id="img">
                                        <div class="imagen" [innerHTML]="htmlStr"></div>

                                    </div>
                                </div>


                            </div>

                        </div>

                    </div>
                    <div class="firma-card row lista ">
                        <div class="col-lg-1 col-sm-1 col-1 my-auto"></div>

                        <div class="col-lg-10 col-sm-10 col-10 img-padding-no firma-resim">
                            <p>Imagen 2</p>

                            <img class="card-img-top img-thumbnail" src="{{url_backend}}/api/descargas/img/{{comercio.img1}} " [alt]="comercio.nombre">
                            <div class="row  vertical-align botonImg">
                                <div class="col-lg-3 col-sm-3 col-3 my-auto"></div>

                                <div class=" col-lg-6 col-sm-6 col-6 my-auto">
                                    <div class="form-group">
                                        <label class="estadoTrue" for="img1">img 2</label>
                                        <input class="seleccionar" (change)="seleccionarUnaFoto($event,2) " type="file" id="img1">
                                        <div class="imagen" [innerHTML]="htmlStr1"></div>

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="firma-card row lista ">
                        <div class="col-lg-1 col-sm-1 col-1 my-auto"></div>
                        <div class="col-lg-10 col-sm-10 col-10 img-padding-no firma-resim">
                            <p>Imagen 3</p>
                            <img class="card-img-top img-thumbnail" src="{{url_backend}}/api/descargas/img/{{comercio.img2}} " [alt]="comercio.nombre">
                            <div class="row  vertical-align botonImg">
                                <div class="col-lg-3 col-sm-3 col-3 my-auto"></div>
                                <div class=" col-lg-6 col-sm-6 col-6 my-auto">
                                    <div class="form-group">

                                        <label class="estadoTrue" for="img2">img 3</label>
                                        <input class="seleccionar" style="float:left" (change)="seleccionarUnaFoto($event,3) " type="file" id="img2">
                                        <div class="imagen" [innerHTML]="htmlStr2"></div>

                                    </div>
                                </div>


                            </div>

                        </div>
                    </div>
                </div>
                <p> <button class="btn btn-rounded boton " type="button " role="button " (click)="cancelar(); ">Cancelar
                    </button></p>



                <p> <button class="btn btn-dark " type="button " role="button " (click)="nuevoComercio(); ">Crear nuevo Comercio
                    </button></p>
            </form>
        </div>
    </div>
</div>
<app-footer></app-footer>